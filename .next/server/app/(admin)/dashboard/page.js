(()=>{var e={};e.id=403,e.ids=[403],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(3958),r(5866),r(5582);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["(admin)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3958)),"C:\\Users\\apurb\\Desktop\\gemini-cli\\cric-news-app\\src\\app\\(admin)\\dashboard\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5582)),"C:\\Users\\apurb\\Desktop\\gemini-cli\\cric-news-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\apurb\\Desktop\\gemini-cli\\cric-news-app\\src\\app\\(admin)\\dashboard\\page.tsx"],u="/(admin)/dashboard/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(admin)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8920:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},656:()=>{},6785:(e,t,r)=>{Promise.resolve().then(r.bind(r,747))},747:(e,t,r)=>{"use strict";let s,a;r.r(t),r.d(t,{default:()=>x});var n=r(326),i=r(7577),l=r.n(i);let o=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,d=function(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s)}return a}(e))&&(s&&(s+=" "),s+=t);return s},c=(s="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==a?void 0:a.variants)==null)return d(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:r,defaultVariants:n}=a,i=Object.keys(r).map(t=>{let s=null==e?void 0:e[t],a=null==n?void 0:n[t];if(null===s)return null;let i=o(s)||o(a);return r[t][i]}),l=e&&Object.entries(e).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return d(s,i,null==a?void 0:null===(t=a.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...l}[t]):({...n,...l})[t]===r})?[...e,r,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),u=l().forwardRef(({className:e,variant:t,size:r,...s},a)=>n.jsx("button",{className:c({variant:t,size:r,className:e}),ref:a,...s}));u.displayName="Button";var m=r(5329);function p(){let[e,t]=(0,i.useState)([]),[r,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[o,d]=(0,i.useState)(null),[c,p]=(0,i.useState)(!0),[x,f]=(0,i.useState)(null),h=async()=>{try{let e=await fetch("/api/articles");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let r=await e.json();t(r.articles)}catch(e){console.error("Failed to fetch articles:",e),f("Failed to load articles.")}finally{p(!1)}},g=async e=>{if(e.preventDefault(),r&&a)try{let e;if(!(e=o?await fetch(`/api/articles/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,content:a})}):await fetch("/api/articles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,content:a})})).ok)throw Error(`HTTP error! status: ${e.status}`);s(""),l(""),d(null),h()}catch(e){console.error("Failed to save article:",e),f("Failed to save article.")}},b=e=>{s(e.title),l(e.content),d(e.id)},v=async e=>{try{let t=await fetch(`/api/articles/${e}`,{method:"DELETE"});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);h()}catch(e){console.error("Failed to delete article:",e),f("Failed to delete article.")}};return c?n.jsx("p",{className:"text-xl",children:"Loading admin panel..."}):x?(0,n.jsxs)("p",{className:"text-xl text-red-500",children:["Error: ",x]}):(0,n.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4",children:[n.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Admin Panel - Manage Articles"}),(0,n.jsxs)(m.Zb,{className:"mb-8",children:[n.jsx(m.Ol,{children:n.jsx(m.ll,{children:o?"Edit Article":"Add New Article"})}),n.jsx(m.aY,{children:(0,n.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),n.jsx("input",{type:"text",id:"title",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border",value:r,onChange:e=>s(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content"}),n.jsx("textarea",{id:"content",rows:5,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border",value:a,onChange:e=>l(e.target.value),required:!0})]}),n.jsx(u,{type:"submit",children:o?"Update Article":"Add Article"}),o&&n.jsx(u,{type:"button",variant:"outline",onClick:()=>{d(null),s(""),l("")},className:"ml-2",children:"Cancel Edit"})]})})]}),n.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Existing Articles"}),n.jsx("div",{className:"space-y-4",children:e.length>0?e.map(e=>(0,n.jsxs)(m.Zb,{children:[n.jsx(m.Ol,{children:n.jsx(m.ll,{children:e.title})}),(0,n.jsxs)(m.aY,{className:"flex justify-between items-center",children:[n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.content}),(0,n.jsxs)("div",{className:"flex space-x-2 ml-4",children:[n.jsx(u,{variant:"secondary",onClick:()=>b(e),children:"Edit"}),n.jsx(u,{variant:"destructive",onClick:()=>v(e.id),children:"Delete"})]})]})]},e.id)):n.jsx("p",{className:"text-gray-600",children:"No articles found."})})]})}function x(){return n.jsx("main",{className:"flex min-h-screen flex-col items-center p-8 md:p-24 bg-gray-100",children:n.jsx(p,{})})}},5329:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>o});var s=r(326),a=r(7577),n=r.n(a);let i=n().forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:`rounded-lg border bg-card text-card-foreground shadow-sm ${e}`,...t}));i.displayName="Card";let l=n().forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:`flex flex-col space-y-1.5 p-6 ${e}`,...t}));l.displayName="CardHeader";let o=n().forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:`text-2xl font-semibold leading-none tracking-tight ${e}`,...t}));o.displayName="CardTitle";let d=n().forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:`text-sm text-muted-foreground ${e}`,...t}));d.displayName="CardDescription";let c=n().forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:`p-6 pt-0 ${e}`,...t}));c.displayName="CardContent",n().forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:`flex items-center p-6 pt-0 ${e}`,...t})).displayName="CardFooter"},3958:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Users\apurb\Desktop\gemini-cli\cric-news-app\src\app\(admin)\dashboard\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,s.createProxy)(String.raw`C:\Users\apurb\Desktop\gemini-cli\cric-news-app\src\app\(admin)\dashboard\page.tsx#default`)},5582:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>l});var s=r(9510),a=r(5384),n=r.n(a);r(1159);let i=()=>s.jsx("nav",{style:{padding:"1rem",background:"#f2f2f2"},children:s.jsx("h1",{children:"Cric News"})});r(5023);let l={title:"CricNews - Live Scores & News",description:"Your go-to source for live cricket scores and news."};function o({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:n().className,children:[s.jsx(i,{}),e]})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,349],()=>r(4927));module.exports=s})();